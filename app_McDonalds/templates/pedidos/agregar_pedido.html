{% extends "base.html" %}
{% block title %}Agregar Pedido{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2 class="text-center mb-4">Agregar Pedido</h2>
  <form method="POST">
    {% csrf_token %}

    <div class="form-group mb-3">
      <label>Cliente</label>
      <select name="id_cliente" class="form-control" required>
        <option value="">Seleccione un cliente</option>
        {% for cliente in clientes %}
        <option value="{{ cliente.id_cliente }}">{{ cliente.nombre }} {{ cliente.apellido }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Empleado</label>
      <select name="id_empleado" class="form-control" required>
        <option value="">Seleccione un empleado</option>
        {% for empleado in empleados %}
        <option value="{{ empleado.id_empleado }}">{{ empleado.nombre }} {{ empleado.apellido }}</option>
        {% endfor %}
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Fecha del Pedido</label>
      <input type="date" name="fecha_pedido" class="form-control" required>
    </div>

    <div class="form-group mb-3">
      <label>Total</label>
      <input type="number" step="0.01" name="total" class="form-control" required>
    </div>

    <div class="form-group mb-3">
      <label>Estado</label>
      <select name="estado" class="form-control">
        <option value="Pendiente">Pendiente</option>
        <option value="Enviado">Enviado</option>
        <option value="Entregado">Entregado</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Dirección</label>
      <input type="text" name="direccion" class="form-control" required>
    </div>

    <div class="form-group mb-3">
      <label>Forma de Pago</label>
      <select name="forma_pago" class="form-control">
        <option value="Efectivo">Efectivo</option>
        <option value="Tarjeta">Tarjeta</option>
      </select>
    </div>

    <div class="form-group mb-3">
      <label>Artículos</label><br>
      {% for articulo in articulos %}
        <input type="checkbox" name="articulos" value="{{ articulo }}"> {{ articulo }}<br>
      {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary w-100">Guardar Pedido</button>
  </form>
</div>
{% endblock %}
